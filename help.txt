Ищу файлы с математической обработкой и вычислениями:
Читаю ключевые файлы с математической обработкой:
Проверяю обработку данных на frontend:
Где происходит математическая обработка данных в проекте:
Backend (Python/Django)

1. backend/api/services.py — анализ тональности и расчет риска
SentimentAnalyzer.analyze() — анализ текста:
Вычисление compound score (от -1 до 1)
Классификация: positive/negative/neutral (пороги ±0.05)
SentimentAnalyzer._calculate_risk() — расчет уровня риска (0–10):
Поиск ключевых слов риска (+3 за каждое)
Корректировка по sentiment score
Учет интенсификаторов

2. backend/api/views.py — вычисление аналитики
AnalyticsViewSet.dashboard() (строки 250-309):
Подсчет сессий и сообщений
Средний sentiment: avg_sentiment = sum(...) / count() (строка 281)
Подсчет риск-событий (risk_level >= 7)
Построение эмоциональной временной линии
Frontend (TypeScript/React)

3. frontend/src/pages/AnalyticsPage.tsx — обработка данных для визуализации
Фильтрация по месяцам (строки 61-71)
Сортировка данных по дате (строки 76-80)
Подсчет распределения настроений: moodCounts.reduce() (строки 123-128)
Построение календарных данных (строки 191-224)
Вычисление дат первого/последнего дня месяца
Подсчет уникальных настроений на день
Используемые библиотеки для вычислений
vaderSentiment — анализ тональности текста
nltk — обработка естественного языка (в зависимостях)
textblob — анализ текста (в зависимостях, но не используется напрямую)
recharts — визуализация данных (графики с математическими преобразованиями)

Основная математическая обработка сосредоточена в backend/api/services.py (анализ тональности и расчет риска) и backend/api/views.py (аналитические метрики).